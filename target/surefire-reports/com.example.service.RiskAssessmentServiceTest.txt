-------------------------------------------------------------------------------
Test set: com.example.service.RiskAssessmentServiceTest
-------------------------------------------------------------------------------
Tests run: 3, Failures: 2, Errors: 0, Skipped: 0, Time elapsed: 0.375 s <<< FAILURE! -- in com.example.service.RiskAssessmentServiceTest
com.example.service.RiskAssessmentServiceTest.shouldAssessHighRisk -- Time elapsed: 0.342 s <<< FAILURE!
java.lang.AssertionError: expectation "expectNextMatches" failed (predicate failed on value: VehicleData(id=null, vehicleId=null, contractId=null, riskAssessment=RiskAssessment(level=HIGH, score=1.6666666666666665, timestamp=null, riskFactors=[RiskFactor(type=SPEED_VIOLATION, value=150.0, unit=km/h, threshold=90.0, weight=1.5, description=Excessive speed detected), RiskFactor(type=HIGH_RPM, value=5000.0, unit=rpm, threshold=3000.0, weight=1.0, description=High engine RPM)], insuranceImpact=InsuranceImpact(premiumAdjustment=0.15, deductibleAdjustment=null, recommendedAction=Immediate review required, requiresImmediate=true, justification=High risk driving behavior detected)), data=VehicleData.SensorData(speed=VehicleData.Measurement(value=150.0, unit=km/h), rpm=VehicleData.Measurement(value=5000.0, unit=rpm), throttlePosition=null, fuelLevel=null, maf=null, engineLoad=null, fuelRate=null, intakePressure=null, acceleratorPosition=null, barometricPressure=null, timestamp=null)))
	at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)
	at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)
	at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)
	at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)
	at reactor.test.DefaultStepVerifierBuilder.lambda$expectNextMatches$11(DefaultStepVerifierBuilder.java:559)
	at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2289)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1529)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1477)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onNext(DefaultStepVerifierBuilder.java:1146)
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.complete(MonoIgnoreThen.java:294)
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onNext(MonoIgnoreThen.java:188)
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:237)
	at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4563)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:690)
	at com.example.service.RiskAssessmentServiceTest.shouldAssessHighRisk(RiskAssessmentServiceTest.java:89)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

com.example.service.RiskAssessmentServiceTest.shouldAssessModerateRisk -- Time elapsed: 0.016 s <<< FAILURE!
java.lang.AssertionError: expectation "expectNextMatches" failed (predicate failed on value: VehicleData(id=null, vehicleId=null, contractId=null, riskAssessment=RiskAssessment(level=LOW, score=0.3333333333333333, timestamp=null, riskFactors=[RiskFactor(type=SPEED_VIOLATION, value=100.0, unit=km/h, threshold=90.0, weight=1.5, description=Excessive speed detected), RiskFactor(type=HIGH_RPM, value=3500.0, unit=rpm, threshold=3000.0, weight=1.0, description=High engine RPM)], insuranceImpact=InsuranceImpact(premiumAdjustment=0, deductibleAdjustment=null, recommendedAction=Continue monitoring, requiresImmediate=false, justification=Low risk driving behavior)), data=VehicleData.SensorData(speed=VehicleData.Measurement(value=100.0, unit=km/h), rpm=VehicleData.Measurement(value=3500.0, unit=rpm), throttlePosition=null, fuelLevel=null, maf=null, engineLoad=null, fuelRate=null, intakePressure=null, acceleratorPosition=null, barometricPressure=null, timestamp=null)))
	at reactor.test.MessageFormatter.assertionError(MessageFormatter.java:115)
	at reactor.test.MessageFormatter.failPrefix(MessageFormatter.java:104)
	at reactor.test.MessageFormatter.fail(MessageFormatter.java:73)
	at reactor.test.MessageFormatter.failOptional(MessageFormatter.java:88)
	at reactor.test.DefaultStepVerifierBuilder.lambda$expectNextMatches$11(DefaultStepVerifierBuilder.java:559)
	at reactor.test.DefaultStepVerifierBuilder$SignalEvent.test(DefaultStepVerifierBuilder.java:2289)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSignal(DefaultStepVerifierBuilder.java:1529)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onExpectation(DefaultStepVerifierBuilder.java:1477)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onNext(DefaultStepVerifierBuilder.java:1146)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)
	at reactor.test.DefaultStepVerifierBuilder$DefaultVerifySubscriber.onSubscribe(DefaultStepVerifierBuilder.java:1161)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4563)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.toVerifierAndSubscribe(DefaultStepVerifierBuilder.java:891)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:831)
	at reactor.test.DefaultStepVerifierBuilder$DefaultStepVerifier.verify(DefaultStepVerifierBuilder.java:823)
	at reactor.test.DefaultStepVerifierBuilder.verifyComplete(DefaultStepVerifierBuilder.java:690)
	at com.example.service.RiskAssessmentServiceTest.shouldAssessModerateRisk(RiskAssessmentServiceTest.java:76)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

